# Pre.pMood 테스트 가이드

> **목적**: 런칭 전 핵심 기능이 정상 작동하는지 확인

---

## 📋 테스트 순서

### 1️⃣ 주문/결제 플로우 테스트 (가장 중요 ⭐⭐⭐⭐⭐)

**목표**: 고객이 상품을 구매할 수 있는지 확인

#### 단계별 체크리스트

**1. 회원가입 & 로그인**
- [ ] 회원가입 페이지 접속 (`register.html`)
- [ ] 이메일, 비밀번호 입력 후 가입
- [ ] 이메일 인증 코드 받기 (`email-verification.html`)
- [ ] 인증 코드 입력 후 로그인 페이지로 이동
- [ ] 로그인 성공

**2. 상품 선택 & 장바구니**
- [ ] 메인 페이지 또는 카탈로그에서 상품 클릭
- [ ] 상품 상세 페이지 (`buy.html`)에서:
  - [ ] 사이즈 선택 가능
  - [ ] 색상 선택 가능
  - [ ] "장바구니에 추가" 버튼 클릭
- [ ] 장바구니 페이지 (`cart.html`)에서:
  - [ ] 선택한 상품이 표시되는지 확인
  - [ ] 수량 변경 가능한지 확인

**3. 결제 진행**
- [ ] 장바구니에서 "결제하기" 클릭
- [ ] 결제 페이지 (`checkout-payment.html`)에서:
  - [ ] 배송지 정보 입력
  - [ ] "결제하기" 버튼 클릭
  - [ ] **TOSS 결제 위젯이 정상적으로 뜨는지 확인** ⚠️ 중요
  - [ ] 테스트 결제 진행 (테스트 카드번호 사용)

**4. 주문 완료 확인**
- [ ] 결제 성공 후 주문 완료 페이지 (`order-complete.html`)로 이동
- [ ] 주문 번호가 표시되는지 확인
- [ ] 주문 금액이 올바르게 표시되는지 확인
- [ ] 배송 정보가 올바르게 표시되는지 확인
- [ ] **페이지가 깨지지 않고 정상적으로 보이는지 확인** (escapeHtml 적용 확인)

**5. 관리자 페이지 확인**
- [ ] 관리자 계정으로 로그인
- [ ] 관리자 주문 목록 페이지 (`/admin-qhf25za8/orders.html`) 접속
- [ ] 방금 주문한 내역이 목록에 표시되는지 확인
- [ ] 주문 상세 정보가 올바르게 표시되는지 확인

#### 🐛 문제 발생 시 체크리스트

**결제 위젯이 안 뜨는 경우:**
- [ ] 브라우저 콘솔(F12)에서 에러 메시지 확인
- [ ] `config.js`가 정상 로드되는지 확인
- [ ] TOSS_CLIENT_KEY가 올바르게 설정되었는지 확인

**주문 완료 페이지가 깨지는 경우:**
- [ ] 브라우저 콘솔에서 에러 확인
- [ ] 어떤 부분이 깨지는지 스크린샷 찍기
- [ ] 주문 정보가 제대로 표시되는지 확인

**DB에 주문이 저장되지 않는 경우:**
- [ ] 서버 로그 확인
- [ ] API 응답 확인 (Network 탭)

---

### 2️⃣ 관리자 API 권한 테스트 (5분 컷)

**목표**: 비관리자가 관리자 API에 접근할 수 없는지 확인

#### 테스트 방법

**옵션 1: 브라우저 개발자 도구 사용**
1. 비관리자 계정으로 로그인
2. F12 → Console 탭 열기
3. 아래 코드 실행:
```javascript
fetch('/api/admin/orders', {
  credentials: 'include',
  headers: {
    'Content-Type': 'application/json'
  }
})
.then(res => {
  console.log('Status:', res.status);
  return res.json();
})
.then(data => console.log('Response:', data))
.catch(err => console.error('Error:', err));
```

**옵션 2: Postman/Insomnia 사용**
- URL: `GET /api/admin/orders`
- Headers: 비관리자 계정의 쿠키 포함
- 예상 결과: `403 Forbidden`

#### ✅ 성공 기준
- [ ] 응답 코드: `403 Forbidden`
- [ ] 응답 메시지: "관리자 권한이 없습니다" 또는 유사한 메시지

#### ❌ 실패 시
- [ ] 응답 코드가 `200`이면 → 권한 체크 문제 (백엔드 확인 필요)
- [ ] 응답 코드가 `401`이면 → 인증 문제 (쿠키 확인)

---

### 3️⃣ 이미지 404 점검 (10-15분)

**목표**: 모든 상품 이미지가 정상적으로 로드되는지 확인

#### 테스트 방법

1. **브라우저 개발자 도구 열기**
   - F12 → Network 탭
   - 필터: `Img` 선택

2. **페이지 돌아다니기**
   - 메인 페이지 (`index.html`)
   - 카탈로그 페이지 (`catalog.html`)
   - 상품 상세 페이지 (`buy.html`) - 여러 상품 확인
   - 검색 결과 페이지 (`search.html`)

3. **404 오류 확인**
   - Network 탭에서 빨간색(404) 항목 찾기
   - 어떤 이미지가 깨지는지 파일명 확인
   - 스크린샷 또는 파일명 기록

#### 체크리스트
- [ ] 메인 페이지 이미지 모두 정상 로드
- [ ] 카탈로그 페이지 이미지 모두 정상 로드
- [ ] 상품 상세 페이지 이미지 정상 로드
- [ ] 검색 결과 이미지 정상 로드

#### 🐛 발견된 문제 기록
```
예시:
- 파일명: Oxfor-Stripe-Shrit.jpg → 404 오류
- 실제 파일명: Oxford-Stripe-Shirt.jpg (추정)
- 위치: 상품 ID: PM-25-SH-Oxford-Stripe-GY-S/M/L
```

---

### 4️⃣ 모바일 테스트 (10분)

**목표**: 모바일 환경에서도 정상 작동하는지 확인

#### 테스트 기기
- [ ] 본인 스마트폰 (아이폰 또는 갤럭시)
- [ ] 가능하면 지인 스마트폰도 테스트 (다른 브라우저)

#### 테스트 플로우
1. **홈페이지 접속**
   - [ ] 메인 페이지가 정상적으로 보이는지
   - [ ] 헤더 메뉴가 정상적으로 작동하는지
   - [ ] 모바일 햄버거 메뉴가 작동하는지

2. **상품 탐색**
   - [ ] 카탈로그 페이지에서 상품 목록이 정상적으로 보이는지
   - [ ] 상품 이미지가 화면 밖으로 튀어나가지 않는지
   - [ ] 상품 카드가 터치하기 편한 크기인지

3. **상품 상세**
   - [ ] 상품 상세 페이지가 정상적으로 보이는지
   - [ ] 사이즈/색상 선택 버튼이 잘 눌리는지
   - [ ] "장바구니에 추가" 버튼이 화면에 잘 보이는지

4. **장바구니 & 결제**
   - [ ] 장바구니 페이지가 정상적으로 보이는지
   - [ ] 결제 페이지까지 진입 가능한지
   - [ ] 배송지 입력 폼이 키보드 올라와도 가려지지 않는지

#### 체크리스트
- [ ] 버튼이 너무 작아서 눌리기 어렵지 않은지
- [ ] 이미지가 화면 밖으로 튀어나가지 않는지
- [ ] 텍스트가 너무 작아서 읽기 어렵지 않은지
- [ ] 스크롤이 부드럽게 작동하는지
- [ ] 터치 영역이 충분한지 (최소 44x44px 권장)

---

## 📝 테스트 결과 기록

### 테스트 완료 후 아래 형식으로 기록해주세요:

```markdown
## 테스트 결과 (날짜: YYYY-MM-DD)

### 1. 주문/결제 플로우
- [ ] 성공 / [ ] 실패
- 문제점: (있으면 기록)

### 2. 관리자 API 권한
- [ ] 성공 (403 확인) / [ ] 실패
- 문제점: (있으면 기록)

### 3. 이미지 404
- 발견된 오류: (파일명과 위치 기록)
- [ ] 모두 정상 / [ ] 오류 발견

### 4. 모바일 테스트
- [ ] 성공 / [ ] 실패
- 문제점: (있으면 기록)
```

---

## 🔄 다음 단계

테스트 완료 후:
1. **문제가 발견되면** → 문제점을 알려주시면 제가 수정하겠습니다
2. **모든 테스트 통과하면** → 다음 우선순위 작업으로 진행합니다

---

## 💡 팁

- **스크린샷 활용**: 문제가 발생하면 스크린샷을 찍어두면 도움이 됩니다
- **콘솔 로그 확인**: F12 → Console 탭에서 에러 메시지 확인
- **Network 탭 확인**: API 호출이 실패하는 경우 Network 탭에서 확인

---

**테스트 중 문제가 발생하면 언제든지 알려주세요!** 🚀

