<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정품 인증 - Pre.p Mood</title>
    <link rel="stylesheet" href="assets/css/global.css">
    <link rel="stylesheet" href="assets/css/page.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script src="header-loader.js" defer></script>
    <script src="footer-loader.js" defer></script>
    <script src="authenticity-script.js" defer></script>
</head>
<body>
    <!-- 헤더 -->
    <div id="header-container"></div>

    <!-- 메인 콘텐츠 -->
    <main class="authenticity-page">
        <div class="authenticity-container">
            <!-- 페이지 헤더 -->
            <div class="page-header">
                <h1 class="page-title">정품 인증</h1>
                <p class="page-description">QR 코드를 스캔하거나 코드를 직접 입력하여 제품의 정품 여부를 확인하세요.</p>
            </div>

            <!-- QR 스캔 섹션 -->
            <div class="scan-section">
                <div class="scan-card">
                    <div class="scan-icon">
                        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                    </div>
                    <h2 class="scan-title">QR 코드 스캔</h2>
                    <p class="scan-description">카메라로 제품의 QR 코드를 스캔하세요</p>
                    <button class="btn-scan" id="scanButton">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                            <circle cx="12" cy="13" r="4"/>
                        </svg>
                        카메라로 스캔하기
                    </button>
                </div>

                <div class="divider">
                    <span>또는</span>
                </div>

                <div class="input-card">
                    <h2 class="input-title">코드 직접 입력</h2>
                    <p class="input-description">QR 코드 하단에 표시된 코드를 입력하세요</p>
                    <form class="code-form" id="codeForm">
                        <input 
                            type="text" 
                            class="code-input" 
                            id="codeInput" 
                            placeholder="예: PM-001.a1b2c3d4.signature123"
                            autocomplete="off"
                        >
                        <button type="submit" class="btn-verify">확인</button>
                    </form>
                </div>
            </div>

            <!-- 결과 섹션 -->
            <div class="result-section" id="resultSection" style="display: none;">
                <div class="result-card" id="resultCard">
                    <!-- 결과 내용이 JavaScript로 동적 생성됩니다 -->
                </div>
            </div>

            <!-- 로딩 상태 -->
            <div class="loading-state" id="loadingState" style="display: none;">
                <div class="loading-spinner"></div>
                <p class="loading-text">확인 중...</p>
            </div>
        </div>
    </main>

    <!-- 푸터 -->
    <div id="footer-container"></div>

    <!-- QR 스캔 모달 -->
    <div class="qr-modal" id="qrModal" style="display: none;">
        <div class="qr-modal-content">
            <button class="qr-modal-close" id="closeModal">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            <h2 class="qr-modal-title">QR 코드 스캔</h2>
            <div class="qr-video-container">
                <video id="qrVideo" playsinline></video>
                <div class="qr-overlay">
                    <div class="qr-frame"></div>
                </div>
            </div>
            <p class="qr-hint">QR 코드를 프레임 안에 위치시켜 주세요</p>
        </div>
    </div>
</body>
</html>

